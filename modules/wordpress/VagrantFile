# -*- mode: ruby -*-
# vi: set ft=ruby :

# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!
VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|

	config.vm.define "script" do |script|
    	script.vm.box = "hashicorp/precise64"
   		script.vm.box_version = "1.0.0"
    	script.ssh.insert_key = false	#uses default insecure public key
  		script.vm.network :private_network, ip: "192.168.33.20", auto_config: true
  		script.vm.provision :shell, :path => "files/install.sh"
  		script.vm.synced_folder "../", 	"/etc/puppet/modules"
		script.vm.synced_folder "templates", "/tmp/vagrant-puppet-3/templates"
  		script.vm.synced_folder ".", "/var/www"		
#  		script.vm.provision "puppet" do |puppet|
#  			puppet.manifests_path = "manifests"
#  			puppet.manifest_file  = "wordpress.pp"
#  			puppet.options = ["--templatedir","/tmp/vagrant-puppet-3/templates"]
#  		end
  		
	end

	
	config.vm.define "box" do |box|
    	#box.vm.box = "precise64"
    	box.vm.box = "puppetlabs/centos-6.6-64-puppet"
    	box.vm.box_version = "1.0.1"
  		box.ssh.insert_key = false	#uses default insecure public key
 		box.vm.network :private_network, ip: "192.168.33.21", auto_config: true
  		#box.vm.provision :shell, :path => "files/install.sh"
  		box.vm.synced_folder "../", 	"/etc/puppet/modules"
		box.vm.synced_folder "C:/Users/Alexander/Dropbox/Projects/wordpress/backup", "/vagrant/backups"
		box.vm.synced_folder "templates", "/tmp/vagrant-puppet-3/templates"
  				
  		box.vm.provision "puppet" do |puppet|
  			puppet.manifests_path = "manifests"
  			puppet.manifest_file  = "wordpress.pp"
  			puppet.options = ["--templatedir","/tmp/vagrant-puppet-3/templates"]
  		end
  		
	end
end
