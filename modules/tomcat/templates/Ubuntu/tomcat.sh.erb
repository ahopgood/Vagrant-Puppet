#!/bin/bash  
# description: Tomcat Start Stop Restart  
# processname: tomcat  
# chkconfig: 234 20 80  
#JAVA_HOME=/usr/java/jdk1.7.0_05  
#export JAVA_HOME  
#PATH=$JAVA_HOME/bin:$PATH  
#export PATH    

### BEGIN INIT INFO
# Provides:          tomcat7
# Required-Start:    $local_fs $remote_fs $network
# Required-Stop:     $local_fs $remote_fs $network
# Should-Start:      $named
# Should-Stop:       $named
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Start Tomcat.
# Description:       Start the Tomcat servlet engine.
### END INIT INFO


CATALINA_HOME=<%= @catalina_home%>  
export CATALINA_HOME

JAVA_HOME=<%= @java_home%>
export JAVA_HOME

tomcat=<%= @tomcat_user%>

 #Load global variables from file
#[-f/etc/profile.d/catalina-home.sh]&&./etc/profile.d/catalina-home.sh
# if[-z "$CATALINA_HOME"]; then
#	echo "CATALINA_HOME is not set"
#	exit 1
# fi
  
case $1 in  
start)  
sh $CATALINA_HOME/bin/startup.sh  
;;   
stop)     
sh $CATALINA_HOME/bin/shutdown.sh  
;;   
restart)  
sh $CATALINA_HOME/bin/shutdown.sh  
sh $CATALINA_HOME/bin/startup.sh  
;;   
esac      
exit 0  
